# AHD2-TODSystem

开发中，已转化为package，含工程的项目位于dev分支。

目前已支持git URL安装。

但仅仅为玩具。

## 实装后发现问题

* ~~一键添加TODController后，还是需要自动挂个灯。或者脚本里面检测没有灯的时候停止，不然没拖灯上去就一直报错。~~
* ~~HDR天空材质在package里面，不方便拿出来。~~
* ~~package里面的TOD全局参数无法控制。考虑是复制一个出来？但是复制出来的话，用户的自定义权不太够？（好吧，还是复制出来吧，想自定义，自己创建空白全局参数）~~
* 后处理一般要打开ACES效果才正确。考虑能不能自动校正设置。

## TODO

### 进行中/短期：

* ~~当前时间的更新是每帧+=。考虑结合现实时间，通过固定比例转换，例如，设置为现实六分钟为游戏内一天。那么似乎就不适合在update中更新时间了。~~
* ~~考虑提供脚本修改时间的接口~~
* 自定义反射探针。实现实时天空球+Deffered烘焙物体。
* 代码优化：静态类，委托等的使用。命名空间以及字段名称的优化。
* shader优化：pbrShader规范化。GUI界面完善。天空盒shader结构优化，效果优化。
* 工具优化：TOD工具，材质的增删功能需要实现。
* 考虑与URP的兼容。
* 考虑启用keyword，来为shader提供天空盒启用时变体。

### 长期：

* 天气系统，四季系统。
* 全局光照，后处理等。
* 感觉这个昼夜变换的云还是不太对劲，虽然晚上靠贴图能做得很美，但是昼夜变化的过渡细看太怪了。后面整个云系统都要重做吧。
* 云、雾效果。

## 结构说明：

类似于手册一样的东西，主要是我要规范化类、函数、字段的命名。所以要写一个手册来记录一下

### 反射探针

* 使用需要先在RendererList中添加ReflectionBakedRenderer
* Hierarchy窗口右键AHD2TODSystem - CreateReflectionProbe创建即可。
